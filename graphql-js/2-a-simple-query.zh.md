---
title: A Simple Query
pageTitle: "Resolving Queries with a GraphQL Server Tutorial"
description: "Learn how to define a GraphQL schema, implement query resolvers with Node.js and test your queries in a GraphQL Playground."
question: How are GraphQL queries resolved?
answers: ["With schema-driven development", "By invoking all available resolver functions", "By invoking the resolver function of the root field", "By invoking the resolver functions for the fields contained in the query"]
correctAnswer: 3
---
åœ¨æœ¬èŠ‚ä¸­,æ‚¨å°†å®ç°ç¬¬ä¸€ä¸ªä¸ºé»‘å®¢æ–°é—»å…‹éš†æä¾›åŠŸèƒ½çš„APIæ“ä½œ: æŸ¥è¯¢æè¦*é“¾æ¥*ç”±å…¶ä»–ç”¨æˆ·å‘å¸ƒçš„. 

### æ‰©å±•æ¶æ„å®šä¹‰

è®©æˆ‘ä»¬ä»å®æ–½ä¸€ä¸ªå¼€å§‹`feed`æŸ¥è¯¢,å®ƒå…è®¸æ‚¨æ£€ç´¢åˆ—è¡¨`Link`å…ƒç´ . é€šå¸¸,åœ¨å‘APIæ·»åŠ æ–°åŠŸèƒ½æ—¶,æ¯æ¬¡è¿›ç¨‹çœ‹èµ·æ¥éƒ½éå¸¸ç›¸ä¼¼: 

1.  ä½¿ç”¨newæ‰©å±•GraphQLæ¶æ„å®šä¹‰*æ ¹ç”°* (å’Œæ–°çš„*æ•°æ®ç±»å‹*, å¦‚æœéœ€è¦çš„è¯) 
2.  å®æ–½ç›¸åº”çš„*è§£æå™¨åŠŸèƒ½*æ·»åŠ çš„å­—æ®µ

è¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸º*æ¶æ„é©±åŠ¨*è¦ä¹ˆ*æ¶æ„ä¼˜å…ˆå¼€å‘*. 

æ‰€ä»¥,è®©æˆ‘ä»¬ç»§ç»­å¹¶è§£å†³ç¬¬ä¸€æ­¥,æ‰©å±•GraphQLæ¶æ„å®šä¹‰. 

<Instruction>

åœ¨`index.js`,æ›´æ–°`typeDefs`å¸¸æ•°å¦‚ä¸‹: 

```js{4,7-11}(path="../hackernews-node/src/index.js")
const typeDefs = `
type Query {
  info: String!
  feed: [Link!]!
}

type Link {
  id: ID!
  description: String!
  url: String!
}
`
```

</Instruction>

å¾ˆç®€å•. ä½ æ­£åœ¨å®šä¹‰ä¸€ä¸ªæ–°çš„`Link`è¡¨ç¤ºå¯ä»¥å‘å¸ƒåˆ°Hacker Newsçš„é“¾æ¥çš„ç±»å‹. æ¯`Link`æœ‰ä¸€ä¸ª`id`, ä¸€ä¸ª`description`å’Œ`url`. ç„¶å,æ‚¨å°†å¦ä¸€ä¸ªæ ¹å­—æ®µæ·»åŠ åˆ°`Query`å…è®¸æ‚¨æ£€ç´¢åˆ—è¡¨çš„ç±»å‹`Link`å…ƒç´ . è¿™ä¸ªæ¸…å•ä¿è¯æ°¸è¿œä¸ä¼š`null` (å¦‚æœæœ‰çš„è¯,å®ƒå°†æ˜¯ç©ºçš„) å¹¶ä¸”ä»ä¸åŒ…å«ä»»ä½•å…ƒç´ `null`- è¿™å°±æ˜¯ä¸¤ä¸ªæ„Ÿå¹å·çš„ç”¨é€”. 

### å®ç°è§£æå™¨åŠŸèƒ½

ä¸‹ä¸€æ­¥æ˜¯ä¸ºtheå®ç°è§£æå™¨åŠŸèƒ½`feed`æŸ¥è¯¢. äº‹å®ä¸Š,æˆ‘ä»¬è¿˜æ²¡æœ‰æåˆ°çš„ä¸€ä»¶äº‹æ˜¯,ä¸ä»…å¦‚æ­¤*æ ¹åŸŸ*,ä½†å®é™…ä¸Š*æ‰€æœ‰*GraphQLæ¶æ„ä¸­çš„ç±»å‹å­—æ®µå…·æœ‰è§£æå™¨å‡½æ•°. æ‰€ä»¥,ä½ å°†æ·»åŠ è§£æå™¨`id`,`description`å’Œ`url`çš„é¢†åŸŸ`Link`ç±»å‹ä¹Ÿæ˜¯. 

<Instruction>

åœ¨`index.js`,æ·»åŠ ä¸€ä¸ªåŒ…å«è™šæ‹Ÿæ•°æ®çš„æ–°åˆ—è¡¨å¹¶æ›´æ–°`resolvers`çœ‹èµ·æ¥å¦‚ä¸‹: 

```js{2-6,12,15-19}(path="../hackernews-node/src/index.js")
// 1
let links = [{
  id: 'link-0',
  url: 'www.howtographql.com',
  description: 'Fullstack tutorial for GraphQL'
}]

const resolvers = {
  Query: {
    info: () => `This is the API of a Hackernews Clone`,
    // 2
    feed: () => links,
  },
  // 3
  Link: {
    id: (root) => root.id,
    description: (root) => root.description,
    url: (root) => root.url,
  }
}
```

</Instruction>

è®©æˆ‘ä»¬å†æ¬¡æµè§ˆç¼–å·çš„è¯„è®º: 

1.  è¯¥`links`å˜é‡ç”¨äºåœ¨è¿è¡Œæ—¶å­˜å‚¨é“¾æ¥. ç›®å‰,ä¸€åˆ‡éƒ½åªå­˜å‚¨*åœ¨è®°å¿†ä¸­*è€Œä¸æ˜¯åšæŒåœ¨æ•°æ®åº“ä¸­. 
2.  ä½ æ­£åœ¨ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªæ–°çš„è§£æå™¨`feed`æ ¹ç”°. è¯·æ³¨æ„,è§£æå™¨å§‹ç»ˆå¿…é¡»ä»¥æ¶æ„å®šä¹‰ä¸­çš„ç›¸åº”å­—æ®µå‘½å. 
3.  æœ€å,ä½ è¦ä¸ºå…¶ä¸Šçš„å­—æ®µæ·»åŠ ä¸‰ä¸ªè§£æå™¨`Link`ä»æ¶æ„å®šä¹‰ä¸­é”®å…¥. æˆ‘ä»¬ç¨åä¼šè®¨è®ºä¸€ä¸‹`root`å‚æ•°æ˜¯åœ¨è¿™é‡Œä¼ é€’ç»™è§£æå™¨çš„. 

ç»§ç»­å¹¶é€šè¿‡é‡æ–°å¯åŠ¨æœåŠ¡å™¨æ¥æµ‹è¯•å®ç° (é¦–æ¬¡ä½¿ç”¨**CTRL + C**å¦‚æœæœåŠ¡å™¨ä»åœ¨è¿è¡Œ,åˆ™åœæ­¢æœåŠ¡å™¨,ç„¶åæ‰§è¡Œ`node src/index.js`å†æ¬¡) å¹¶å¯¼èˆªåˆ°`http://localhost:4000`åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­. å¦‚æœæ‚¨å±•å¼€Playgroundçš„æ–‡æ¡£,æ‚¨ä¼šæ³¨æ„åˆ°å¦ä¸€ä¸ªè°ƒç”¨çš„æŸ¥è¯¢`feed`ç°åœ¨å¯ç”¨: 

![](https://imgur.com/0EQ5P9p.png)

é€šè¿‡å‘é€ä»¥ä¸‹æŸ¥è¯¢æ¥å°è¯•: 

```graphql
query {
  feed {
    id
    url
    description
  }
}
```

å¾ˆæ£’,æœåŠ¡å™¨ä¼šä½¿ç”¨æ‚¨å®šä¹‰çš„æ•°æ®è¿›è¡Œå“åº”`links`: 

```json(nocopy)
{
  "data": {
    "feed": [
      {
        "id": "link-0",
        "url": "www.howtographql.com",
        "description": "Fullstack tutorial for GraphQL"
      }
    ]
  }
}
```

é€šè¿‡ä»é€‰æ‹©é›†ä¸­åˆ é™¤ä»»ä½•å­—æ®µå¹¶è§‚å¯ŸæœåŠ¡å™¨å‘é€çš„å“åº”,éšæ„ä½¿ç”¨æŸ¥è¯¢. 

### æŸ¥è¯¢è§£æè¿‡ç¨‹

ç°åœ¨è®©æˆ‘ä»¬å¿«é€Ÿè®¨è®ºä¸€ä¸‹GraphQLæœåŠ¡å™¨å¦‚ä½•å®é™…è§£æä¼ å…¥çš„æŸ¥è¯¢. æ­£å¦‚æ‚¨å·²ç»çœ‹åˆ°çš„,GraphQLæŸ¥è¯¢åŒ…å«è®¸å¤š*é¢†åŸŸ*å®ƒä»¬çš„æºä»£ç åœ¨GraphQLæ¶æ„çš„ç±»å‹å®šä¹‰ä¸­. 

å†æ¬¡è€ƒè™‘ä¸Šé¢çš„æŸ¥è¯¢: 

```graphql(nocopy)
query {
  feed {
    id
    url
    description
  }
}
```

æŸ¥è¯¢ä¸­æŒ‡å®šçš„æ‰€æœ‰å››ä¸ªå­—æ®µ,`feed`,`id`,`url`å’Œ`description`ä¹Ÿå¯ä»¥åœ¨æ¶æ„å®šä¹‰ä¸­æ‰¾åˆ°. ç°åœ¨,ä½ ä¹Ÿå­¦åˆ°äº†è¿™ä¸€ç‚¹*ä¸€åˆ‡*æ¨¡å¼å®šä¹‰ä¸­çš„å­—æ®µç”±ä¸€ä¸ªè§£æå™¨å‡½æ•°æ”¯æŒ,è¯¥å‡½æ•°è´Ÿè´£è¿”å›ç²¾ç¡®è¯¥å­—æ®µçš„æ•°æ®. 

ä½ èƒ½æƒ³è±¡ç°åœ¨çš„æŸ¥è¯¢è§£æè¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å—?å®é™…ä¸Š,GraphQLæœåŠ¡å™¨å¿…é¡»æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯ä¸ºæŸ¥è¯¢ä¸­åŒ…å«çš„å­—æ®µè°ƒç”¨æ‰€æœ‰è§£æç¨‹åºå‡½æ•°,ç„¶åæ ¹æ®æŸ¥è¯¢çš„å½¢çŠ¶æ‰“åŒ…å“åº”. å› æ­¤,æŸ¥è¯¢è§£æä»…ä»…æˆä¸ºåè°ƒè§£æå™¨å‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹!

ç°åœ¨å®æ–½ä¸­ä»ç„¶æœ‰ç‚¹å¥‡æ€ªçš„ä¸€ä»¶äº‹æ˜¯è§£å†³æ–¹æ¡ˆ`Link`æ‰€æœ‰äººä¼¼ä¹éƒ½éµå¾ªä¸€ä¸ªéå¸¸ç®€å•å’Œçç¢çš„æ¨¡å¼: 

```js(nocopy)
Link: {
  id: (root) => root.id,
  description: (root) => root.description,
  url: (root) => root.url,
}
```

é¦–å…ˆ,é‡è¦çš„æ˜¯è¦æ³¨æ„æ¯ä¸ªGraphQLè§£æå™¨å‡½æ•°å®é™…æ¥æ”¶*å››*è¾“å…¥å‚æ•°. ç”±äºç°åœ¨æˆ‘ä»¬çš„æ–¹æ¡ˆä¸­ä¸éœ€è¦å…¶ä½™ä¸‰ä¸ª,æˆ‘ä»¬åªæ˜¯çœç•¥å®ƒä»¬. åˆ«æ‹…å¿ƒ,ä½ å¾ˆå¿«å°±ä¼šäº†è§£å®ƒä»¬. 

ç¬¬ä¸€ä¸ªå‚æ•°,é€šå¸¸ç§°ä¸º`root` (è¦ä¹ˆ`parent`) æ˜¯å‰ä¸€ä¸ªç»“æœ*è§£æç¨‹åºæ‰§è¡Œçº§åˆ«*. ä½†æ˜¯,è¿™æ˜¯ä»€ä¹ˆæ„æ€?ğŸ¤”

å¥½å§,æ­£å¦‚æ‚¨å·²ç»çœ‹åˆ°çš„,GraphQLæŸ¥è¯¢å¯ä»¥*åµŒå¥—*. æ¯ä¸ªåµŒå¥—çº§åˆ« (å³åµŒå¥—çš„èŠ±æ‹¬å·) å¯¹åº”äºä¸€ä¸ªè§£æå™¨æ‰§è¡Œçº§åˆ«. å› æ­¤,ä¸Šè¿°æŸ¥è¯¢å…·æœ‰ä¸¤ä¸ªè¿™æ ·çš„æ‰§è¡Œçº§åˆ«. 

åœ¨ç¬¬ä¸€çº§,å®ƒè°ƒç”¨`feed`è§£æå¹¶è¿”å›å­˜å‚¨çš„å…¨éƒ¨æ•°æ®`links`. å¯¹äºç¬¬äºŒä¸ªæ‰§è¡Œçº§åˆ«,GraphQLæœåŠ¡å™¨è¶³å¤Ÿèªæ˜,å¯ä»¥è°ƒç”¨è§£æå™¨`Link`ç±»å‹ (å› ä¸ºæ¨¡å¼,å®ƒçŸ¥é“`feed`è¿”å›ä¸€ä¸ªåˆ—è¡¨`Link`åœ¨å‰ä¸€ä¸ªè§£æç¨‹åºçº§åˆ«è¿”å›çš„åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ çš„å…ƒç´ ) . å› æ­¤,åœ¨ä¸‰è€…ä¸­çš„æ¯ä¸€ä¸ª`Link`è§£æå™¨,ä¼ å…¥`root`objectæ˜¯é‡Œé¢çš„å…ƒç´ `links`åå•. 

> **æ³¨æ„**: è¦äº†è§£æ›´å¤šç›¸å…³ä¿¡æ¯,è¯·æŸ¥çœ‹[è¿™ä¸ª](https://blog.graph.cool/graphql-server-basics-the-schema-ac5e2950214e#9d03)æ–‡ç« . 

æ— è®ºå¦‚ä½•,å› ä¸ºæ‰§è¡Œäº†`Link`è§£æå™¨æ˜¯å¾®ä¸è¶³é“çš„,ä½ å®é™…ä¸Šå¯ä»¥çœç•¥å®ƒä»¬,æœåŠ¡å™¨å°†ä»¥ä¸ä¹‹å‰ç›¸åŒçš„æ–¹å¼å·¥ä½œ
